/* --- Base Layout --- */
html, body {
  margin: 0;
  padding: 0;
  height: 100%;
  width: 100%;
  background: #001100; /* CRT green background */
  overflow: hidden;
}

/* --- Terminal Styling --- */
#terminal {
  position: absolute;
  width: 100%;
  height: 100%;
  animation: flicker 8s infinite;
}

/* --- Terminal Text Glow --- */
#terminal .xterm-screen {
  text-shadow: 0 0 2px #00FF00, 0 0 6px #00FF00;
}

/* --- Scanline Effect --- */
#scanline {
  position: absolute;
  top: -10%;
  left: 0;
  width: 100%;
  height: 2px;
  background: rgba(0, 255, 0, 0.08);
  box-shadow: 0 0 25px 10px rgba(0, 255, 0, 0.15);
  backdrop-filter: blur(1px);
  opacity: 0;
  z-index: 10;
  pointer-events: none;
  animation: scanline-move 8s linear infinite;
}

/* --- Noise Layer 1 (Static) --- */
#noise {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: url('https://www.transparenttextures.com/patterns/noisy.png');
  opacity: 0.3; /* Strong noise */
  pointer-events: none;
  z-index: 15;
}

/* --- Noise Layer 2 (Moving) --- */
#noise2 {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: url('https://www.transparenttextures.com/patterns/noisy.png');
  opacity: 0.05;
  pointer-events: none;
  z-index: 16;
  animation: noiseMove 5s infinite linear;
}

/* --- Flicker Animation --- */
@keyframes flicker {
  0%, 49%, 51%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.65;
  }
}

/* --- Scanline Move Animation --- */
@keyframes scanline-move {
  0% { top: -10%; opacity: 0; }
  10% { opacity: 1; }
  50% { top: 50%; opacity: 0.8; }
  90% { opacity: 1; }
  100% { top: 110%; opacity: 0; }
}

/* --- Noise Movement Animation --- */
@keyframes noiseMove {
  0% { background-position: 0 0; }
  100% { background-position: 10px 10px; }
}

/* --- Menu Button --- */
#menuButton {
  position: fixed;
  top: 10px;
  right: 10px;
  background: transparent;
  color: #00FF00;
  border: 1px solid #00FF00;
  padding: 10px 20px;
  font-family: 'Courier New', monospace;
  font-size: 16px;
  cursor: pointer;
  z-index: 200;
}

/* --- Menu Overlay --- */
#menuOverlay {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.9);
  color: #00FF00;
  font-family: 'Courier New', monospace;
  font-size: 16px;
  z-index: 199;
  flex-direction: column;
  padding: 20px;
}

/* --- Close Menu Button --- */
#closeMenu {
  background: transparent;
  color: #00FF00;
  border: 1px solid #00FF00;
  align-self: flex-end;
  font-size: 20px;
  cursor: pointer;
}

/* --- Menu Settings Layout --- */
.menuSetting {
  margin-top: 30px;
}

/* --- Hide xterm.js Scrollbar --- */
#terminal .xterm-viewport {
  scrollbar-width: none; /* Firefox */
  -ms-overflow-style: none; /* IE */
}

#terminal .xterm-viewport::-webkit-scrollbar {
  display: none; /* Chrome/Safari */
}
/* --- Menu Checkbox Customization --- */
#menuOverlay input[type="checkbox"] {
  appearance: none;
  background-color: transparent;
  border: 2px solid #00FF00;
  width: 20px;
  height: 20px;
  cursor: pointer;
  margin-right: 10px;
}

#menuOverlay input[type="checkbox"]:checked {
  background-color: #00FF00;
}

/* --- Menu Select Dropdown Customization --- */
#menuOverlay select {
  background: transparent;
  color: #00FF00;
  border: 2px solid #00FF00;
  font-family: 'Courier New', monospace;
  font-size: 16px;
  padding: 5px;
  cursor: pointer;
  appearance: none; /* Kill browser default styles */
}

/* --- Menu Button Customization (Overrides) --- */
#menuOverlay button, #menuOverlay select, #menuOverlay input[type="number"], #menuOverlay input[type="button"] {
  background: transparent;
  color: #00FF00;
  border: 2px solid #00FF00;
  font-family: 'Courier New', monospace;
  font-size: 16px;
  padding: 8px 12px;
  margin-top: 10px;
  cursor: pointer;
}
#menuOverlay input[type="checkbox"] {
  vertical-align: middle;
  appearance: none;
  background-color: transparent;
  border: 2px solid #00FF00;
  width: 20px;
  height: 20px;
  cursor: pointer;
  margin-right: 10px;
}
/* --- Menu Button Hover Effect --- */
#menuOverlay button:hover,
#menuButton:hover {
  background-color: #00FF00;
  color: #001100;
  box-shadow: 0 0 8px #00FF00;
}
.menu-button.selected {
  background-color: #00ff00; /* or #005500 for a more subtle look */
  color: black;
  font-weight: bold;
}
/* --- Menu Select Dropdown Full CRT Customization --- */
#menuOverlay select,
#menuOverlay select:hover,
#menuOverlay select:focus,
#menuOverlay select:active {
  background: transparent;
  color: #00FF00;
  border: 2px solid #00FF00;
  font-family: 'Courier New', monospace;
  font-size: 16px;
  padding: 5px;
  cursor: pointer;
  box-shadow: 0 0 8px #00FF00;
  outline: none; /* Kill default white focus box */
  appearance: none; /* Kill browser default styles */
}
/* Text speed menu buttons */
#slowTextSpeed,
#fastTextSpeed,
#instantTextSpeed {
  background-color: #000;
  color: #ccc;
  border: 1px solid #444;
  padding: 6px 12px;
  cursor: pointer;
  margin: 4px;
}

#slowTextSpeed:hover,
#fastTextSpeed:hover,
#instantTextSpeed:hover {
  background-color: #222;
  color: #fff;
}

#slowTextSpeed.selected,
#fastTextSpeed.selected,
#instantTextSpeed.selected {
  background-color: #00ff00;
  color: black;
  font-weight: bold;
  border-color: #00ff00;
}
